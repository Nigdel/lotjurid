{% extends 'lot.html.twig' %}
{% block body %}
    <h1>Comprobantes de Establecimientos <span class="badge badge-primary">{{ pagination.getTotalItemCount }}</span></h1>
    {% import 'compestab/comptramit.html.twig' as tramite %}
    <form class="form-inline">
        <label for="lot" class="mx-2">Lot</label>
        <input id="lot" type="text" class="form-control-dark form-control " name="lot" value="{{ lot ? lot : ''  }}"/>
        <label for="insta" class="mx-2">Instalacion</label>
        <input id="insta" type="text" class="form-control-dark form-control " name="insta" value="{{ insta ? insta : ''  }}" />
        <label for="folio" class="mx-2">Folio</label>
        <input id="folio" type="text" class="form-control-dark form-control " name="folio" value="{{ folio ? folio : ''  }}"/>
        <button class="btn btn-sm btn-primary ml-2"><i class="fas fa-search"></i> Buscar</button><a class="btn btn-sm btn-primary ml-2" href="{{ path('comprobante_index') }}">Todos</a>
    </form>
    <table class="table table-striped table-dark table-sm">
        <thead>
        <tr>
            {#<th>{{ knp_pagination_sortable(pagination, 'Id', 'c.id') }}</th>#}
            <th>Instalacion</th>
            <th>Folio</th>
            <th>Estado</th>
            <th>Femitido</th>
            <th>Duplicado</th>
            <th>Ver/Editar</th>
            <th>Tramites</th>
        </tr>
        </thead>
        <tbody id="comprobantes">
        {% for comprobante in pagination %}
            <tr>
                {{ tramite.showcompFila(comprobante, loop,false) }}
            </tr>
        {% else %}
            <tr>
                <td colspan="9">No se encontraron resultados</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div class="navigation">
        {{ knp_pagination_render(pagination, 'utiles/twitter_bootstrap_v4_pagination.html.twig') }}
    </div>

    <a href="{{ path('compestab_new') }}">Create new</a>
{% endblock %}
